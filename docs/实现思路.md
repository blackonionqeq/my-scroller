

## 极简版本虚拟列表

### 功能
支持单个内容固定高度的虚拟列表（只加载可视区域+缓冲区域的数据）、虚拟滚动（滚动时也一样）。



### 实现思路

#### 初始化阶段
1. 检测可视区行数（可视区域 / 单内容高度）。
2. 获取可视+缓冲区行数（可视区行数 + 缓冲区行数）。在初次滚动时缓冲区行数可能要 * 2，因为上方从0行开始，也就是上面缺缓冲区，但滚动后缓冲区最多也就 缓冲区行数 * 2了，可先渲染，后续不会变动。
3. 渲染可视+缓冲区内容。用行数 * 每行数量获得要渲染的总数量，并在原始数据里做一个切片，从0开始，长度为总数量。
4. 布局。基本逻辑是实现父容器（relative）和两个子容器（一个是滚动容器，一个是渲染可视区域数据的，两者都是absolute）。可视区域内，如果一行有多个，注意写好flex wrap和每个内容的宽度。

#### 滚动时逻辑
1. 根据滚动容器高度，计算要显示的数据范围，获得起始行数(滚动高度 / 单内容高度)。
2. 修正起始下标。因为缓冲区包含上方，所以要减去缓冲行，且判断减去后大于等于0，获得修正后的起始下标。
3. 进行一次渲染。逻辑和初始化时类似，根据起始下标、可视+缓冲区行数、原始数据，获得渲染数据的数组切片，进行重渲染。